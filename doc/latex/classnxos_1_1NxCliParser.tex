\hypertarget{classnxos_1_1NxCliParser}{
\section{nxos::NxCliParser Class Reference}
\label{classnxos_1_1NxCliParser}\index{nxos::NxCliParser@{nxos::NxCliParser}}
}


Abstract Interface to access Nexus CLI Parser tools.  


{\ttfamily \#include $<$nx\_\-cli.h$>$}\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{classnxos_1_1NxCliParser_ae7d5ada6ff25efd19ba95161fa60eeac}{$\sim$NxCliParser} ()
\item 
virtual \hyperlink{classnxos_1_1NxCliCmd}{NxCliCmd} $\ast$ \hyperlink{classnxos_1_1NxCliParser_a210cbbb8b312093285741f753c4cdcda}{newCliCmd} (\hyperlink{classnxos_1_1NxCliCmd_a82ed104f13c7859b24d3c0527f706be1}{NxCliCmd::cmdtype\_\-t} ctype, const char $\ast$cmd\_\-name, const char $\ast$syntax)=0
\item 
virtual \hyperlink{classnxos_1_1NxCliCmd}{NxCliCmd} $\ast$ \hyperlink{classnxos_1_1NxCliParser_ac07fa22d7d83d4c9015ea1f3976163d8}{newShowCmd} (const char $\ast$cmd\_\-name, const char $\ast$syntax)=0
\item 
virtual \hyperlink{classnxos_1_1NxCliCmd}{NxCliCmd} $\ast$ \hyperlink{classnxos_1_1NxCliParser_a51481c851ccf87288513ba73e0380895}{newConfigCmd} (const char $\ast$cmd\_\-name, const char $\ast$syntax)=0
\item 
virtual void \hyperlink{classnxos_1_1NxCliParser_a3c5295a4b2de3068d1653a6c303a22ee}{addToParseTree} ()=0
\item 
virtual void \hyperlink{classnxos_1_1NxCliParser_a169976099ecf7a05277bfc72259ff1bc}{delFromParseTree} ()=0
\item 
virtual void \hyperlink{classnxos_1_1NxCliParser_a711e36619a40625ebf62b59693529d88}{setCmdHandler} (\hyperlink{classnxos_1_1NxCmdHandler}{NxCmdHandler} $\ast$handler)=0
\item 
\hypertarget{classnxos_1_1NxCliParser_a5a6839c678451ecbb78449df6960cf8c}{
virtual std::string \hyperlink{classnxos_1_1NxCliParser_a5a6839c678451ecbb78449df6960cf8c}{getParserStatus} ()=0}
\label{classnxos_1_1NxCliParser_a5a6839c678451ecbb78449df6960cf8c}

\begin{DoxyCompactList}\small\item\em Get Parser Status/Errors. \item\end{DoxyCompactList}\item 
\hypertarget{classnxos_1_1NxCliParser_af058955d7c6dae444a5dab084342d03c}{
virtual \hyperlink{classnxos_1_1NxCmdHandler}{NxCmdHandler} $\ast$ \hyperlink{classnxos_1_1NxCliParser_af058955d7c6dae444a5dab084342d03c}{getCmdHandler} ()=0}
\label{classnxos_1_1NxCliParser_af058955d7c6dae444a5dab084342d03c}

\begin{DoxyCompactList}\small\item\em Get Cli callback handler object. \item\end{DoxyCompactList}\item 
virtual char $\ast$ \hyperlink{classnxos_1_1NxCliParser_a44b08502fa02c0f83b9dc26ef02e2be8}{execShowCmd} (std::string show\_\-syntax, nxos::record\_\-type\_\-e type=nxos::R\_\-TEXT, bool $\ast$oper\_\-result=NULL)=0
\item 
virtual char $\ast$ \hyperlink{classnxos_1_1NxCliParser_aa22ee0395ceadc46a3e28b93c5a5b75e}{execConfigCmd} (const char $\ast$filename)=0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Abstract Interface to access Nexus CLI Parser tools. Interface to add, delete, modify custom CLI commands into Nexus Parser. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classnxos_1_1NxCliParser_ae7d5ada6ff25efd19ba95161fa60eeac}{
\index{nxos::NxCliParser@{nxos::NxCliParser}!$\sim$NxCliParser@{$\sim$NxCliParser}}
\index{$\sim$NxCliParser@{$\sim$NxCliParser}!nxos::NxCliParser@{nxos::NxCliParser}}
\subsubsection[{$\sim$NxCliParser}]{\setlength{\rightskip}{0pt plus 5cm}virtual nxos::NxCliParser::$\sim$NxCliParser ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classnxos_1_1NxCliParser_ae7d5ada6ff25efd19ba95161fa60eeac}
Destructor 

\subsection{Member Function Documentation}
\hypertarget{classnxos_1_1NxCliParser_a3c5295a4b2de3068d1653a6c303a22ee}{
\index{nxos::NxCliParser@{nxos::NxCliParser}!addToParseTree@{addToParseTree}}
\index{addToParseTree@{addToParseTree}!nxos::NxCliParser@{nxos::NxCliParser}}
\subsubsection[{addToParseTree}]{\setlength{\rightskip}{0pt plus 5cm}virtual void nxos::NxCliParser::addToParseTree ()\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classnxos_1_1NxCliParser_a3c5295a4b2de3068d1653a6c303a22ee}
Register all created custom commands to NX CLI Parser Tree. \begin{DoxyNote}{Note}
Check \char`\"{}show \$appname internal state\char`\"{} if the custom commands are successfully added or not. 
\end{DoxyNote}

\begin{DoxyExceptions}{Exceptions}
\item[{\em if}]called without creating any custom commands. \item[{\em if}]NX CLI Parser rejects the custom commands. \end{DoxyExceptions}
\hypertarget{classnxos_1_1NxCliParser_a169976099ecf7a05277bfc72259ff1bc}{
\index{nxos::NxCliParser@{nxos::NxCliParser}!delFromParseTree@{delFromParseTree}}
\index{delFromParseTree@{delFromParseTree}!nxos::NxCliParser@{nxos::NxCliParser}}
\subsubsection[{delFromParseTree}]{\setlength{\rightskip}{0pt plus 5cm}virtual void nxos::NxCliParser::delFromParseTree ()\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classnxos_1_1NxCliParser_a169976099ecf7a05277bfc72259ff1bc}
Delete all your custom commands from NX CLI Parser Tree. \begin{DoxyNote}{Note}
Check \char`\"{}show AppName internal state\char`\"{} if the custom commands are successfully deleted or not. 
\end{DoxyNote}
\hypertarget{classnxos_1_1NxCliParser_aa22ee0395ceadc46a3e28b93c5a5b75e}{
\index{nxos::NxCliParser@{nxos::NxCliParser}!execConfigCmd@{execConfigCmd}}
\index{execConfigCmd@{execConfigCmd}!nxos::NxCliParser@{nxos::NxCliParser}}
\subsubsection[{execConfigCmd}]{\setlength{\rightskip}{0pt plus 5cm}virtual char$\ast$ nxos::NxCliParser::execConfigCmd (const char $\ast$ {\em filename})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classnxos_1_1NxCliParser_aa22ee0395ceadc46a3e28b93c5a5b75e}
Execute other config commands in a file. 
\begin{DoxyParams}{Parameters}
\item[\mbox{$\leftarrow$} {\em filename}]File that contains all the config commands to be executed. \item[\mbox{$\rightarrow$} {\em char$\ast$}]SUCCESS if config commands were executed successfully if not contains the reason for failure 
\begin{DoxyCode}
  C++:
       sdk = nxos::NxSdk::getSdkInst(argc, argv);
       cliP = sdk->getCliParser();
       char *result = cliP->execConfigCmd(filename);
       if (strcmp(result, "SUCCESS")== 0) {
           // Configs applied successfully.
       } else {
           // Configs failed. Check the Error.
       }

  Python:
       import nx_sdk_py
       sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)
       cliP = sdk.getCliParser()
       result = cliP.execConfigCmd(filename)
       if "SUCCESS" in result:
           #Configs applied successfully.
       else:
           #Configs failed. Check the Error.
\end{DoxyCode}
 \end{DoxyParams}
\hypertarget{classnxos_1_1NxCliParser_a44b08502fa02c0f83b9dc26ef02e2be8}{
\index{nxos::NxCliParser@{nxos::NxCliParser}!execShowCmd@{execShowCmd}}
\index{execShowCmd@{execShowCmd}!nxos::NxCliParser@{nxos::NxCliParser}}
\subsubsection[{execShowCmd}]{\setlength{\rightskip}{0pt plus 5cm}virtual char$\ast$ nxos::NxCliParser::execShowCmd (std::string {\em show\_\-syntax}, \/  nxos::record\_\-type\_\-e {\em type} = {\ttfamily nxos::R\_\-TEXT}, \/  bool $\ast$ {\em oper\_\-result} = {\ttfamily NULL})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classnxos_1_1NxCliParser_a44b08502fa02c0f83b9dc26ef02e2be8}
Execute other show commands. 
\begin{DoxyParams}{Parameters}
\item[\mbox{$\leftarrow$} {\em show\_\-syntax}]syntax of show command to be executed. \item[\mbox{$\leftarrow$} {\em type}]Type(TEXT, XML, JSON) of the record to be returned. \item[\mbox{$\leftarrow$} {\em oper\_\-result}]if show output was successful. Returns true if show was successful (or) false if its a invalid show command. \item[\mbox{$\rightarrow$} {\em Char$\ast$}]containing show output in the type format specified. It is not thread safe and any subsequent call to execShowCmd will overwrite the previous output. Hence make a copy of the output than the pointer if you need to store the output. \end{DoxyParams}
\hypertarget{classnxos_1_1NxCliParser_a210cbbb8b312093285741f753c4cdcda}{
\index{nxos::NxCliParser@{nxos::NxCliParser}!newCliCmd@{newCliCmd}}
\index{newCliCmd@{newCliCmd}!nxos::NxCliParser@{nxos::NxCliParser}}
\subsubsection[{newCliCmd}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf NxCliCmd}$\ast$ nxos::NxCliParser::newCliCmd ({\bf NxCliCmd::cmdtype\_\-t} {\em ctype}, \/  const char $\ast$ {\em cmd\_\-name}, \/  const char $\ast$ {\em syntax})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classnxos_1_1NxCliParser_a210cbbb8b312093285741f753c4cdcda}
Create a new Custom Cli command object 
\begin{DoxyParams}{Parameters}
\item[\mbox{$\leftarrow$} {\em ctype}]Cmd Type (ex CONF\_\-CMD, SHOW\_\-CMD etc) \item[\mbox{$\leftarrow$} {\em cmd\_\-name}]Cmd Name (NOTE: SDK appends App Name to the passed Cmd Name (AppName\_\-CmdName)) \item[\mbox{$\leftarrow$} {\em syntax}]Custom Cmd syntax. Syntax comprises of Keywords and input parameters. Input parameters are identified by enclosing in $<$$>$ and by default they are of the type \char`\"{}string\char`\"{}. Refer to updateKeyword \& updateParam usage. NOTE: All CONF commands are prefixed with AppName. For SHOW commands, SDK appends AppName after the show keyword. So that the custom configs dont overwrite the existing Nexus Configs.\end{DoxyParams}

\begin{DoxyCode}
  Usage:                             
       Ex1) For Config: $appName port-bw threshold <threshold>
             API:  newCliCmd(nxos::NxCliCmd::CONF_CMD, "vlan_cmd", "vlan <vlanid>
      ");
             $AppName: (Automatically appended by SDK)
  C++:
       sdk = nxos::NxSdk::getSdkInst(argc, argv);
       cliP = sdk->getCliParser();
       cmd = cliP->newConfigCmd("set_port_bw_threshold_cmd",
                                    "port-bw threshold <threshold>");

  Python:
       import nx_sdk_py
       sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)
       cliP = sdk.getCliParser()
       cmd = cliP.newConfigCmd("set_port_bw_threshold_cmd", 
                               "port-bw threshold <threshold>")
\end{DoxyCode}



\begin{DoxyCode}
       Ex2) For Config: show $appName (A | B <id>) [C] 
             API:  newCliCmd(nxos::NxCliCmd::SHOW_CMD, "complex_cmd", "(A | B <id
      >) [C]");
             App Name: show $appName (Automatically appended by SDK)
             Syntax  : (A | B <id>) [C]
                 Keyword   : A, B, C
                 Param     : <id> (Default type: String)
                 Explantion: (| - A or B <id>) 
                             ([] - Optional keyword C)
 
  C++:
       sdk = nxos::NxSdk::getSdkInst(argc, argv);
       cliP = sdk->getCliParser();
       cmd = cliP->newConfigCmd("set_complex_cmd",
                                "(A | B <id>) [C]");

  Python:
       import nx_sdk_py
       sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)
       cliP = sdk.getCliParser()
       cmd = cliP.newConfigCmd("set_complex_cmd", "(A | B <id>) [C]") 
\end{DoxyCode}


NOTE: 
\begin{DoxyExceptions}{Exceptions}
\item[{\em ctype}]is a invalid command type \item[{\em cmd\_\-name}]and syntax cannot be empty or NULL. \item[{\em syntax}]is not balanced. \item[{\em Cannot}]edit the syntax if the cmd is already added to NX Parser. Can add new custom cmd to Nx Parser but not edit existing cmd already added to the parser. \item[{\em syntax}]contains anything other than the regex \char`\"{}A-\/Za-\/z0-\/9\mbox{[}$\,$\mbox{]}\{\}()$<$$>$$|$\_\--\/ \char`\"{} \item[{\em syntax}]contains free standing \_\- or -\/ or $|$. \item[{\em syntax}]contains empty open close paranthesis without a word. \item[{\em syntax}]dose not contain only one word and doesnt match regex A-\/Za-\/z0-\/9\_\--\/ \item[{\em syntax}]contains predefined keywords (no, show) \end{DoxyExceptions}
\hypertarget{classnxos_1_1NxCliParser_a51481c851ccf87288513ba73e0380895}{
\index{nxos::NxCliParser@{nxos::NxCliParser}!newConfigCmd@{newConfigCmd}}
\index{newConfigCmd@{newConfigCmd}!nxos::NxCliParser@{nxos::NxCliParser}}
\subsubsection[{newConfigCmd}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf NxCliCmd}$\ast$ nxos::NxCliParser::newConfigCmd (const char $\ast$ {\em cmd\_\-name}, \/  const char $\ast$ {\em syntax})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classnxos_1_1NxCliParser_a51481c851ccf87288513ba73e0380895}
Create a new custom Show CLI command object. Calls newCliCmd(nxos::NxCliCmd::CONF\_\-CMD, cmd\_\-name, syntax) \hypertarget{classnxos_1_1NxCliParser_ac07fa22d7d83d4c9015ea1f3976163d8}{
\index{nxos::NxCliParser@{nxos::NxCliParser}!newShowCmd@{newShowCmd}}
\index{newShowCmd@{newShowCmd}!nxos::NxCliParser@{nxos::NxCliParser}}
\subsubsection[{newShowCmd}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf NxCliCmd}$\ast$ nxos::NxCliParser::newShowCmd (const char $\ast$ {\em cmd\_\-name}, \/  const char $\ast$ {\em syntax})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classnxos_1_1NxCliParser_ac07fa22d7d83d4c9015ea1f3976163d8}
Create a new custom Show CLI command object. Calls newCliCmd(nxos::NxCliCmd::SHOW\_\-CMD, cmd\_\-name, syntax) \hypertarget{classnxos_1_1NxCliParser_a711e36619a40625ebf62b59693529d88}{
\index{nxos::NxCliParser@{nxos::NxCliParser}!setCmdHandler@{setCmdHandler}}
\index{setCmdHandler@{setCmdHandler}!nxos::NxCliParser@{nxos::NxCliParser}}
\subsubsection[{setCmdHandler}]{\setlength{\rightskip}{0pt plus 5cm}virtual void nxos::NxCliParser::setCmdHandler ({\bf NxCmdHandler} $\ast$ {\em handler})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classnxos_1_1NxCliParser_a711e36619a40625ebf62b59693529d88}
Set the CLI callback handler object when the respective config is executed. 

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
/nobackup/sathsrin/NX-\/SDK/include/nx\_\-cli.h\end{DoxyCompactItemize}
